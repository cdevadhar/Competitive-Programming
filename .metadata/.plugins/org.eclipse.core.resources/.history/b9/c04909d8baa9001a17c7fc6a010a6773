import java.util.ArrayList;
import java.util.*;

public class Node {
	int value;
	Node next;
	public Node(int value) {
		this.value = value;
	}

	public void addToTail(int value) {
		Node end = new Node(value);
		Node n = this;
		while (n.next != null) {
			n = n.next;
		}
		n.next = end;
	}

	private static void displayList(Node currentNode) {
		while (currentNode != null) {
			System.out.print(currentNode.value + " ");
			currentNode = currentNode.next;
		}
		System.out.println("------");
	}
	public Node deleteNode(Node head, int key) {
		Node n = head;
		if (n.value == key) {
			return head.next;
		}
		while(n.next!= null) {
			if (n.next.value == key) {
				n.next = n.next.next;
				return head;
			}
			n = n.next;
		}
		return head;
	}
	public Node deleteDuplicates(Node head) {
		Node current = head;
		ArrayList<Integer> alreadySeen = new ArrayList<Integer>();
		alreadySeen.add(head.value);
		while(current.next !=null) {
			System.out.println("**** n.val=" + current.value);
			if (current.next != null) System.out.println("**** n.next.val=" + current.next.value);
			else System.out.println("**** n.next.val=" + current.next);

			if (alreadySeen.contains(current.next.value)) {
				System.out.println("***** Already seen value : " + current.next.value);
				current.next = current.next.next;
			}
			else {
				System.out.println("***** New vlaue : " + current.next.value);
				alreadySeen.add(current.next.value);
				current = current.next;

			}
			
		}

		return head;

	}
	public void getElement(int numtolast, Node head) {
		Node current  = head;
		ArrayList <Integer> values = new ArrayList<Integer>();
		values.add(head.value);
		while(current.next != null) {
			values.add(current.next.value);
			current = current.next;
		}
		Collections.reverse(values);
		for (int i = 0; i<values.size(); i++) {
			System.out.print(values.get(i));
		}
	}

	public static void main(String[] args) {
		Node list1 = new Node(5);
		list1.addToTail(6);

		Node list2 = new Node(4);
		list2.addToTail(3);
		list2.addToTail(7);

		displayList(list1);
		displayList(list2);

		list2.deleteNode(list2, 3);
		displayList(list2);

		
		Node list3 = new Node(4);
		list3.addToTail(4);
		list3.addToTail(3);
		list3.addToTail(3);
		list3.addToTail(5);
		list3.addToTail(5);
		list3.addToTail(4);
		list3.addToTail(4);
		list3.addToTail(7);
		list3.addToTail(4);
		list3.addToTail(4);

		displayList(list3);

		list2.deleteDuplicates(list3);
		displayList(list3);
		
		list3.getElement(2, list3);



	}



}
