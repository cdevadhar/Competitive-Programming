import java.io.*;
import java.util.*;
public class SwapitySwap {
	static int n, m, k;
	static int[] cows;
	static ArrayList<Integer> adjacent;
	static boolean[] visited;
	static Scanner in;
	
	public static void main(String[] args) {
		in = new Scanner(System.in);
		n = in.nextInt();
		m = in.nextInt();
		k = in.nextInt();
		cows = new int[n];
		adjacent = new ArrayList<Integer>(n);
		visited = new boolean[n];
		for (int i=0; i<n; i++) {
			cows[i] = i;
		}
		
		for (int i=0; i<m; i++) {
			int a = in.nextInt()-1;
			int b = in.nextInt()-1;
			cycle(a, b);
		}
		for (int i=0; i<n; i++) {
			adjacent.add(cows[i]);
		}
		ArrayList<ArrayList<Integer>> allResults = new ArrayList<ArrayList<Integer>>();
		for (int i=0; i<n; i++) {
			if (!visited[i]) {
				ArrayList<Integer> results = loop(i, new ArrayList<Integer>());
				allResults.add(results);
//				System.out.println();
//				for (int j=0; j<results.size(); j++) {
//					System.out.println(results.get(j));
//				}
//				System.out.println();
			}
		}
		
	}
	
	public static ArrayList<Integer> loop(int node, ArrayList<Integer> results) {
		
		visited[node]=true;
//		System.out.println(node);
		results.add(node);
		if (!visited[adjacent.indexOf(node)]) {
			loop(adjacent.indexOf(node), results);
		}
		return results;
		
		
	}
	
	
	public static void cycle(int x, int y) {
		int[] subarray = Arrays.copyOfRange(cows, x, y+1);
		int[] reversed = reverse(subarray);
		for (int i=x; i<=y; i++) {
			cows[i] = reversed[i-x];
		}
		
	}
	public static int[] reverse(int[] array) {
		int[] ans = new int[array.length];
		for (int i=array.length-1; i>=0; i--) {
			ans[array.length-1-i] = array[i];
		}
		return ans;
	}
}
